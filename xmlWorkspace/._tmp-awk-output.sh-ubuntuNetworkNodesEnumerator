#!/bin/bash
. common-auxiliary-functions.lib
node=6
item="10" attribute="Model" value="Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller" generateHwInventoryXmlRecord; 
item="10" attribute="MAC Address" value="00:1e:0b:a9:d8:e8" generateHwInventoryXmlRecord; 
item="10" attribute="IP Addresses" value="10.10.140.38|fe80::21e:bff:fea9:d8e8" generateHwInventoryXmlRecord; 
item="10" attribute="Default Gateway" value="`ip -4 route list dev eth0 exact 0/0 | awk '{print $3}'`" generateHwInventoryXmlRecord; 
item="10" attribute="DNS Domain" value="`uname -n`.`cat "/var/lib/dhcp/dhclient.leases" | awk -F"[ ;]" -vname=eth0 '/interface/{found=0; if ( $0 ~ name) { found=1}} (found ==1) &&/domain-name /{dnsIp=$5}END{print dnsIp}' | xargs echo`" generateHwInventoryXmlRecord; 
item="10" attribute="DHCP Server" value="`cat "/var/lib/dhcp/dhclient.leases" | awk -F"[ ;]" -vname=eth0 '/interface/{found=0; if ( $0 ~ name) { found=1}} (found ==1) &&/dhcp-server-identifier/{dhcpIp=$5}END{print dhcpIp}'`" generateHwInventoryXmlRecord; 
item="10" attribute="DNS Servers" value="`nm-tool | awk -vname=eth0 'BEGIN{ORS="|";}/Device/{found=0; if ( $0 ~ name){ found=1} } (found ==1) && /DNS:/{print $2}'`" generateHwInventoryXmlRecord; 
